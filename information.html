<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <title>线路详情 - 城市地铁服务系统</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
    <link rel="stylesheet" href="./css/information.css">
    <link href='https://api.mapbox.com/mapbox-gl-js/v2.15.0/mapbox-gl.css' rel='stylesheet'>
</head>
<body>
    <!-- 导航容器 -->
    <div id="nav-container"></div>

    <!-- 页面主体内容 -->
    <main> 
        <div class="map-info-container">
            <!-- 地图容器 -->
            <div id="nanjing-map" class="map"></div>

            <!-- 城市切换区域 -->
            <div class="city-switch-area">
                <div class="switch-label">
                    <i class="fas fa-exchange-alt"></i> 切换城市
                </div>
                <div class="city-buttons">
                    <button class="city-btn" data-city="bj">北京</button>
                    <button class="city-btn active" data-city="nj">南京</button>
                    <button class="city-btn" data-city="sh">上海</button>
                    <button class="city-btn" data-city="wh">武汉</button>
                </div>
                <div class="current-city">当前城市：南京</div>
            </div>
                
            <!-- 右侧信息面板（按钮移到搜索框下方） -->
            <div class="info-panel">
                <!-- 线路搜索框 -->
                <div class="search-section">
                    <input type="text" id="line-search" class="search-input" placeholder="输入线路名称，如：地铁1号线">
                    <button id="search-btn" class="search-btn"><i class="fas fa-search"></i></button>
                </div>

                <!-- 线路选择器 -->
                <div class="line-selector">
                    <h3>快速选择线路</h3>
                    <div class="action-buttons">
                        <button id="reset-view" class="action-btn">
                            <i class="fas fa-home"></i> 重置视图
                        </button>
                        <button id="show-all-lines" class="action-btn">
                            <i class="fas fa-layer-group"></i> 显示所有线路
                        </button>
                        <button id="clear-lines" class="action-btn">
                            <i class="fas fa-trash"></i> 清除线路
                        </button>
                    </div>

                    <div class="line-buttons" id="line-buttons">
                        <!-- 线路按钮将通过JavaScript动态生成 -->
                    </div>
                </div>

                <!-- 线路信息卡片 -->
                <div class="line-card" id="line-info">
                    <div class="card-header">
                        <h3 id="line-name">请选择线路</h3>
                    </div>
                    <div class="card-content">
                        <!-- 起点终点显示区域 -->
                        <div class="direction-section">
                        <div class="direction-header">
                            <span>线路信息</span>
                        </div>
                        <div class="direction-content">
                            <div class="direction-item start">
                                <span class="direction-label">起点站：</span>
                                <span id="start-station" class="station-name">-</span>
                            </div>
                            <button id="toggle-direction" class="direction-toggle">
                                <i class="fas fa-exchange-alt"></i> 切换方向
                            </button>
                            <div class="direction-item end">
                                <span class="direction-label">终点站：</span>
                                <span id="end-station" class="station-name">-</span>
                            </div>
                        </div>

                        <!-- 基础信息区域 -->
                        <div class="basic-info">
                            <div class="info-item distance">
                                <span>总路程：</span>
                                <span id="line-length" class="info-value">-</span>
                                <span>km</span>
                            </div>
                            <div class="info-item stations">
                                <span>站点数量：</span>
                                <span id="station-count" class="info-value">-</span>
                                <span>站</span>
                            </div>
                        </div>

                        <!-- 换乘站信息区域 -->
                        <div class="transfer-section">
                            <div class="transfer-header">
                                <i class="fas fa-exchange-alt"></i>
                                <span>换乘车站</span>
                                <span id="transfer-count" class="count-badge">0</span>
                            </div>
                            <div id="transfer-stations" class="transfer-stations">
                                <div class="no-transfer">暂无换乘站信息</div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </main>

    <!-- 加载提示 -->
    <div id="loading" class="loading-overlay">
        <div class="loading-spinner"></div>
        <p>加载地图数据中...</p>
    </div>

    <script src="./js/nav.js"></script>
    <script src='https://api.mapbox.com/mapbox-gl-js/v2.15.0/mapbox-gl.js'></script>
    <script src="./js/information.js"></script>
</body>
</html>